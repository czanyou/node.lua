<!DOCTYPE html>
<html lang="en">

<head>
  <title>Gateway Default Settings</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="shortcut icon" href="/favicon.ico?v=20200710" type="image/x-icon" />
  <link rel="stylesheet" href="css/wot-design.css?v=20200710" />
  <script src="js/polyfill.js?v=20200710"></script>
  <script src="js/vue.min.js?v=20200710"></script>
</head>

<body class="home-body">
  <div id="app-block">
    <header id="header" class="header">
      <div class="header-inner">
        <div class="header-left">
          <label class="header-brand" id="header-brand">{{lang.default_title}}</label>
        </div>

        <div class="header-right">
          <button type="button" class="btn btn-primary" v-if="isActivated"
            onclick="location.href='/'">{{lang.action_cancel}}</button>
        </div>
      </div>
    </header>

    <div class="form-content">
      <form id="activate-form" method="post" action="/activate" @submit="onActivateSumbit()" onsubmit="return false;">
        <div class="form-header">
          <h3 class="form-title">{{lang.network_register}}</h3>
        </div>

        <div class="form-body">

          <div class="form-group">
            <label class="col-form-label">{{lang.device_did}} (MAC):</label>
            <input type="text" name="did" v-model="settings.did" class="form-control" maxLength="12"
              pattern="[0-9a-f]{12}" placeholder="12 numbers or 'a' to 'f'" required>
          </div>

          <div class="form-group">
            <label class="col-form-label">{{lang.device_secret}}:</label>
            <input type="text" name="secret" v-model="settings.secret" class="form-control" maxLength="24" required>
          </div>

          <div class="form-group">
            <label class="col-form-label">{{lang.network_server1}}:</label>
            <input type="text" name="server" v-model="settings.server" maxLength="255" class="form-control">
          </div>

          <div class="form-group">
            <label class="col-form-label">{{lang.network_server2}}:</label>
            <input type="url" name="mqtt" v-model="settings.mqtt" class="form-control" maxLength="255" required>
          </div>

          <div class="form-group">
            <label class="col-form-label">{{lang.network_base_url}}:</label>
            <input type="url" name="base" v-model="settings.base" class="form-control" maxLength="255" required>
          </div>
        </div>

        <div class="form-header">
          <h3 class="form-title">{{lang.device_information}}</h3>
        </div>

        <div class="form-body">
          <div class="form-group">
            <label class="col-form-label">{{lang.device_serial_number}}:</label>
            <input type="text" name="serialNumber" v-model="settings.serialNumber" class="form-control" maxLength="24">
          </div>
        </div>
      </form>

      <div class="form-footer">
        <div class="form-group">
          <button type="button" class="btn btn-primary"
            @click="onActivateSumbit()">{{isActivated ? lang.action_submit : lang.action_activate}}</button>
          <button type="button" class="btn btn-primary" v-if="isActivated"
            onclick="location.href='/'">{{lang.action_cancel}}</button>
          <span v-if="updateStatus" v-html="updateStatus"></span>
        </div>
      </div>

      <div class="form-footer"></div>
    </div>

    <footer id="footer"></footer>
  </div>
  <script src="js/activate.js?v=20200710"></script>
  <script src="js/locate.en-US.js?v=20200710"></script>
  <script src="js/locate.zh-CN.js?v=20200710"></script>
  <script>
    $wot.init();
  </script>
</body>

</html>