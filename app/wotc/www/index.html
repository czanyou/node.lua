<!DOCTYPE html>
<html lang="en">

<head>
	<title>Settings</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="shortcut icon" href="/favicon.ico?v=100003" type="image/x-icon" />
	<link rel="stylesheet" href="css/bootstrap.min.css?v=100003" />
	<link rel="stylesheet" href="css/font-awesome.min.css?v=100003" />
	<link rel="stylesheet" href="css/style.css?v=100003" />
  <script src="js/polyfill.js?v=100003"></script>
  <script src="js/jquery.min.js?v=100003"></script>
  <script src="js/popper.min.js?v=100003"></script>
	<script src="js/bootstrap.min.js?v=100003"></script>
  <script src="js/vue.min.js?v=100003"></script>
	<script src="js/common.js?v=100003"></script>
	<style>
    .form-content { padding: 0 16px; max-width: 1024px; }
    .header-brand { line-height: 72px; padding: 0 16px; }
    .form-footer { margin-top: 16px; }
    .col-form-label { display: inline-block; min-width: 100px; }

	@media screen and (min-width: 480px) {}
	</style>
</head>

<body class="home-body">
<div id="app">
  <header id="header" class="header">
    <div class="header-inner">
      <div class="header-right">
        <a id="logout_item" href="#logout" style="display: none;">Logout</a>
        <a id="login_item" href="login.html">Login</a>
      </div>

      <label class="header-brand" id="header-brand">Settings</label>
    </div>
  </header>

  <div class="form-content">
    <div class="form-header">
      <h5 class="form-title" id="exampleModalLabel">Network Settings</h5>
    </div>
    <div class="form-body">
      <form>
        <div class="form-group">
          <label for="recipient-name" class="col-form-label">MAC:</label>
          <input type="text" name="did" class="form-control" id="recipient-name" value="c464e37aa8e5">
        </div>
        <div class="form-group">
          <label for="message-text" class="col-form-label">Name:</label>
          <input type="text" name="name" class="form-control">
        </div>
      </form>
    </div>
    <div class="form-footer">
      <button type="button" class="btn btn-secondary">Reset</button>
      <button type="button" class="btn btn-primary" @click="onSendDisplay">Submit</button>
    </div>
  </div>

  <footer id="footer"></footer>

</div>
<script>

var items = [
    { name: "weather", title: "Weather", description: "Weather information", },
    { name: "product", title: "Product", description: "Product information", }
]

function onSendDisplay(event) {
  var modal = $('#display-modal')

  var url = '/things/gateway/actions/display'
  var form = modal.find('form').get(0);
  var input = {
    did: form.did.value,
    name: form.name.value
  }

  var data = JSON.stringify(input);
  $.ajax({
    type: "POST", 
    url: url,
    data: data,
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    success: function (result) {
      console.log(result)

      modal.modal('hide');
    }
  })
}

var app = new Vue({
	el: '#app',
	data: {
    items: items,
    onSendDisplay: onSendDisplay
	}
})

$(document).ready(function () {
	$('#logout_item').click(OnLogout);
	$('#logo').click(function() {
		$("#sidebar").toggleClass('expand')
  })
  
});


</script>

</body>
</html>